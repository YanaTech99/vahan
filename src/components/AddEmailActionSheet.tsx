import React from 'react';
import {
  Actionsheet,
  ActionsheetBackdrop,
  ActionsheetContent,
  ActionsheetDragIndicatorWrapper,
  ActionsheetDragIndicator,
  Heading,
  Input,
  InputField,
  Box,
  Text,
  Image,
  HStack,
} from '@gluestack-ui/themed';
import {Svg, Defs, LinearGradient, Path, Rect, Stop} from 'react-native-svg';

import {useTranslations} from '../hooks';
import {Icons} from '../theme';
import { TextFontFamily } from '../utils/units/Textfont';

type AddEmailActionSheetProps = {};

const SkipButton = () => (
  <Svg width="299" height="49" viewBox="0 0 299 49" fill="none">
    <Rect
      width="299"
      height="49"
      rx="24.5"
      fill="url(#paint0_linear_5492_11579)"
    />
    <Path
      d="M137.033 25.475C135.741 25.033 134.806 24.506 134.228 23.894C133.661 23.2707 133.378 22.5227 133.378 21.65C133.378 20.6527 133.695 19.865 134.33 19.287C134.964 18.709 135.837 18.42 136.948 18.42C137.99 18.42 138.908 18.5447 139.702 18.794C139.94 18.8733 140.132 19.0263 140.28 19.253C140.438 19.4683 140.518 19.712 140.518 19.984C140.518 20.1767 140.433 20.324 140.263 20.426C140.093 20.528 139.917 20.5393 139.736 20.46C138.874 20.0973 138.002 19.916 137.118 19.916C136.506 19.916 136.035 20.069 135.707 20.375C135.378 20.681 135.214 21.106 135.214 21.65C135.214 22.092 135.367 22.4943 135.673 22.857C135.979 23.2083 136.432 23.486 137.033 23.69C138.529 24.1887 139.566 24.744 140.144 25.356C140.733 25.968 141.028 26.7443 141.028 27.685C141.028 28.8297 140.676 29.6967 139.974 30.286C139.271 30.8753 138.234 31.17 136.863 31.17C135.967 31.17 135.157 31.034 134.432 30.762C133.899 30.5467 133.633 30.1273 133.633 29.504C133.633 29.3113 133.718 29.1697 133.888 29.079C134.058 28.9883 134.228 28.9883 134.398 29.079C135.1 29.453 135.865 29.64 136.693 29.64C138.336 29.64 139.158 28.9883 139.158 27.685C139.158 27.1863 138.993 26.7613 138.665 26.41C138.347 26.0587 137.803 25.747 137.033 25.475ZM144.826 30.745C144.656 30.915 144.447 31 144.197 31C143.948 31 143.738 30.915 143.568 30.745C143.398 30.575 143.313 30.3653 143.313 30.116V19.134C143.313 18.8847 143.398 18.675 143.568 18.505C143.738 18.335 143.948 18.25 144.197 18.25C144.447 18.25 144.656 18.335 144.826 18.505C145.008 18.675 145.098 18.8847 145.098 19.134V26.053C145.098 26.0643 145.104 26.07 145.115 26.07L145.149 26.053L148.175 22.857C148.617 22.3923 149.161 22.16 149.807 22.16H149.994C150.176 22.16 150.3 22.245 150.368 22.415C150.448 22.585 150.425 22.7323 150.3 22.857L146.985 26.308C146.929 26.3647 146.929 26.4327 146.985 26.512L150.317 30.286C150.442 30.422 150.465 30.575 150.385 30.745C150.317 30.915 150.187 31 149.994 31H149.807C149.173 31 148.64 30.7563 148.209 30.269L145.149 26.767C145.138 26.7557 145.127 26.75 145.115 26.75C145.104 26.75 145.098 26.7557 145.098 26.767V30.116C145.098 30.3653 145.008 30.575 144.826 30.745ZM152.971 19.185C152.971 18.9243 153.062 18.7033 153.243 18.522C153.436 18.3407 153.657 18.25 153.906 18.25C154.155 18.25 154.371 18.3407 154.552 18.522C154.745 18.7033 154.841 18.9243 154.841 19.185C154.841 19.4457 154.745 19.6667 154.552 19.848C154.371 20.0293 154.155 20.12 153.906 20.12C153.657 20.12 153.436 20.0293 153.243 19.848C153.062 19.6667 152.971 19.4457 152.971 19.185ZM154.552 30.728C154.371 30.9093 154.155 31 153.906 31C153.657 31 153.436 30.9093 153.243 30.728C153.062 30.5467 152.971 30.3257 152.971 30.065V23.095C152.971 22.8343 153.062 22.6133 153.243 22.432C153.436 22.2507 153.657 22.16 153.906 22.16C154.155 22.16 154.371 22.2507 154.552 22.432C154.745 22.6133 154.841 22.8343 154.841 23.095V30.065C154.841 30.3257 154.745 30.5467 154.552 30.728ZM159.673 25.305V27.855C159.673 28.3763 159.888 28.8353 160.319 29.232C160.761 29.6173 161.282 29.81 161.883 29.81C162.563 29.81 163.101 29.538 163.498 28.994C163.894 28.45 164.093 27.6453 164.093 26.58C164.093 24.4267 163.356 23.35 161.883 23.35C161.282 23.35 160.761 23.5483 160.319 23.945C159.888 24.3303 159.673 24.7837 159.673 25.305ZM159.401 34.485C159.231 34.655 159.021 34.74 158.772 34.74C158.522 34.74 158.313 34.655 158.143 34.485C157.973 34.315 157.888 34.1053 157.888 33.856V22.993C157.888 22.7663 157.967 22.5737 158.126 22.415C158.296 22.245 158.494 22.16 158.721 22.16C158.947 22.16 159.146 22.245 159.316 22.415C159.486 22.5737 159.576 22.7663 159.588 22.993V23.248C159.588 23.2593 159.593 23.265 159.605 23.265C159.616 23.265 159.627 23.2593 159.639 23.248C160.058 22.7833 160.472 22.4603 160.88 22.279C161.288 22.0863 161.764 21.99 162.308 21.99C163.384 21.99 164.246 22.3923 164.892 23.197C165.549 24.0017 165.878 25.1293 165.878 26.58C165.878 27.9853 165.538 29.1017 164.858 29.929C164.189 30.7563 163.339 31.17 162.308 31.17C161.299 31.17 160.438 30.8073 159.724 30.082C159.712 30.0707 159.701 30.065 159.69 30.065C159.678 30.065 159.673 30.0707 159.673 30.082V33.856C159.673 34.1053 159.582 34.315 159.401 34.485Z"
      fill="#000900"
    />
    <Defs>
      <LinearGradient
        id="paint0_linear_5492_11579"
        x1="299"
        y1="24.3158"
        x2="89.7946"
        y2="161.376"
        gradientUnits="userSpaceOnUse">
        <Stop stopColor="#F2ED6A" />
        <Stop offset="1" stopColor="#C1991D" />
      </LinearGradient>
    </Defs>
  </Svg>
);

export const AddEmailActionSheet: React.FC<AddEmailActionSheetProps> = () => {
  const {strings} = useTranslations();

  const [showActionsheet, setShowActionsheet] = React.useState(false);
  const handleClose = () => setShowActionsheet(!showActionsheet);

  return (
    <Actionsheet isOpen={showActionsheet} onClose={handleClose} zIndex={999}>
      <ActionsheetBackdrop />
      <ActionsheetContent>
        <ActionsheetDragIndicatorWrapper>
          <ActionsheetDragIndicator w={34} bg="#E5E5E5" />
        </ActionsheetDragIndicatorWrapper>
        <Heading
          my="$3.5"
          textTransform="capitalize"
          fontFamily={TextFontFamily.ROUND_MPLUS_EXTRA_BOLD}
          fontWeight="$extrabold">
          {strings.add_email}
        </Heading>
        <Box mx="$2" my="$4" w="100%" justifyContent="space-between">
          <Text fontSize="$sm" color="$tertiaryText" mx="$3.5">
            {strings.Add_email_description}
          </Text>
          <HStack
            mx="$2"
            my="$4"
            alignItems="center"
            justifyContent="space-between">
            <Input variant="ghost" size="md" w="$2/3" px={0} pr="$3">
              <InputField
                placeholder={strings.enter_email}
                placeholderTextColor="$placeholderText"
                fontFamily={TextFontFamily.ROUND_MPLUS_MEDIUM}
                fontWeight="$medium"
                fontSize="$lg"
                autoFocus
                autoCapitalize="none"
                autoCorrect={false}
                keyboardType="email-address"
              />
            </Input>
            <Image source={Icons.addEmailIllustrationIcon} />
          </HStack>
        </Box>
        <Box alignSelf="center" mt="$5">
          <SkipButton />
        </Box>
      </ActionsheetContent>
    </Actionsheet>
  );
};

export default AddEmailActionSheet;
